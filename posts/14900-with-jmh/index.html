<!doctype html><html lang=en><head><title>Benchmarking 14900K CPU · isopov
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Ivan Sopov"><meta name=description content="So, I got bored with waiting for tests of my laptop and built myself a new desktop for the first time in 10 years. I&rsquo;ve built it around 14900K CPU and no separate GPU at all. For the OS I use Ubuntu 24.04. And I wanted to look closer to the differences between cores in this CPU. It has 8 performance cores and 16 efficient cores. So I wrote this benchmark to test them."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Benchmarking 14900K CPU"><meta name=twitter:description content="So, I got bored with waiting for tests of my laptop and built myself a new desktop for the first time in 10 years. I’ve built it around 14900K CPU and no separate GPU at all. For the OS I use Ubuntu 24.04. And I wanted to look closer to the differences between cores in this CPU. It has 8 performance cores and 16 efficient cores. So I wrote this benchmark to test them."><meta property="og:url" content="https://isopov.github.io/posts/14900-with-jmh/"><meta property="og:site_name" content="isopov"><meta property="og:title" content="Benchmarking 14900K CPU"><meta property="og:description" content="So, I got bored with waiting for tests of my laptop and built myself a new desktop for the first time in 10 years. I’ve built it around 14900K CPU and no separate GPU at all. For the OS I use Ubuntu 24.04. And I wanted to look closer to the differences between cores in this CPU. It has 8 performance cores and 16 efficient cores. So I wrote this benchmark to test them."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-25T22:42:39+03:00"><meta property="article:modified_time" content="2024-11-25T22:42:39+03:00"><meta property="article:tag" content="Java"><link rel=canonical href=https://isopov.github.io/posts/14900-with-jmh/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.38c4552ac40f9ae3408bad40358f654ebd8804412fe74ed56f2d6c8a7af82dd3.css integrity="sha256-OMRVKsQPmuNAi61ANY9lTr2IBEEv507Vby1sinr4LdM=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://isopov.github.io/>isopov
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://isopov.github.io/posts/14900-with-jmh/>Benchmarking 14900K CPU</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2024-11-25T22:42:39+03:00>November 25, 2024
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
6-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/java/>Java</a></span></div></div></header><div class=post-content><p>So, I got bored with waiting for tests of my laptop and built myself a new desktop for the first time in 10 years. I&rsquo;ve built it around 14900K CPU and no separate GPU at all. For the OS I use Ubuntu 24.04. And I wanted to look closer to the differences between cores in this CPU. It has 8 performance cores and 16 efficient cores. So I wrote this benchmark to test them.</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>@State(Scope.<span style=color:#007f7f>Thread</span>)
</span></span><span style=display:flex><span>@BenchmarkMode(Mode.<span style=color:#007f7f>AverageTime</span>)
</span></span><span style=display:flex><span>@Fork(3)
</span></span><span style=display:flex><span>@OutputTimeUnit(TimeUnit.<span style=color:#007f7f>MICROSECONDS</span>)
</span></span><span style=display:flex><span>@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.<span style=color:#007f7f>SECONDS</span>)
</span></span><span style=display:flex><span>@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.<span style=color:#007f7f>SECONDS</span>)
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>public</span> <span style=color:#fff;font-weight:700>class</span> ThreadsBenchmark {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    @Param(<span style=color:#0ff;font-weight:700>&#34;default&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>public</span> String threads;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    @Benchmark
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>public</span> <span style=color:#fff;font-weight:700>byte</span>[] bench() {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> random = RandomGenerator.<span style=color:#007f7f>getDefault</span>();
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> bytes = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>byte</span>[1024];
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>int</span> i = 0; i &lt; 1024; i++) {
</span></span><span style=display:flex><span>            random.<span style=color:#007f7f>nextBytes</span>(bytes);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>return</span> bytes;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>public</span> <span style=color:#fff;font-weight:700>static</span> <span style=color:#fff;font-weight:700>void</span> main(String[] args) <span style=color:#fff;font-weight:700>throws</span> RunnerException {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> results = <span style=color:#fff;font-weight:700>new</span> ArrayList&lt;RunResult&gt;();
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>int</span> i = 1; i &lt;= 36; i++) {
</span></span><span style=display:flex><span>            Options opt = <span style=color:#fff;font-weight:700>new</span> OptionsBuilder()
</span></span><span style=display:flex><span>                    .<span style=color:#007f7f>include</span>(<span style=color:#0ff;font-weight:700>&#34;.*&#34;</span> + ThreadsBenchmark.<span style=color:#007f7f>class</span>.<span style=color:#007f7f>getSimpleName</span>() + <span style=color:#0ff;font-weight:700>&#34;.*&#34;</span>)
</span></span><span style=display:flex><span>                    .<span style=color:#007f7f>verbosity</span>(VerboseMode.<span style=color:#007f7f>SILENT</span>)
</span></span><span style=display:flex><span>                    .<span style=color:#007f7f>param</span>(<span style=color:#0ff;font-weight:700>&#34;threads&#34;</span>, String.<span style=color:#007f7f>valueOf</span>(i))
</span></span><span style=display:flex><span>                    .<span style=color:#007f7f>threads</span>(i)
</span></span><span style=display:flex><span>                    .<span style=color:#007f7f>build</span>();
</span></span><span style=display:flex><span>            results.<span style=color:#007f7f>addAll</span>(<span style=color:#fff;font-weight:700>new</span> Runner(opt).<span style=color:#007f7f>run</span>());
</span></span><span style=display:flex><span>            System.<span style=color:#007f7f>out</span>.<span style=color:#007f7f>println</span>(<span style=color:#0ff;font-weight:700>&#34;Finished &#34;</span> + i);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        OutputFormatFactory.<span style=color:#007f7f>createFormatInstance</span>(System.<span style=color:#007f7f>out</span>, Defaults.<span style=color:#007f7f>VERBOSITY</span>).<span style=color:#007f7f>endRun</span>(results);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>I&rsquo;ve run it with</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ java -version
</span></span><span style=display:flex><span>openjdk version &#34;21.0.5&#34; 2024-10-15
</span></span><span style=display:flex><span>OpenJDK Runtime Environment (build 21.0.5+11-Ubuntu-1ubuntu124.04)
</span></span><span style=display:flex><span>OpenJDK 64-Bit Server VM (build 21.0.5+11-Ubuntu-1ubuntu124.04, mixed mode, sharing)
</span></span></code></pre></div><p>And got the following results:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Benchmark               (threads)  Mode  Cnt     Score    Error  Units
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          1  avgt   15   456.827 ±  1.539  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          2  avgt   15   478.378 ±  0.669  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          3  avgt   15   478.158 ±  2.052  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          4  avgt   15   478.451 ±  2.894  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          5  avgt   15   479.349 ±  2.073  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          6  avgt   15   477.210 ±  2.160  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          7  avgt   15   476.744 ±  1.122  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          8  avgt   15   467.190 ± 21.820  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          9  avgt   15   510.866 ± 26.721  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         10  avgt   15   527.802 ± 31.445  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         11  avgt   15   558.562 ± 33.271  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         12  avgt   15   583.522 ± 38.983  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         13  avgt   15   586.813 ± 38.401  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         14  avgt   15   601.645 ± 40.331  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         15  avgt   15   616.489 ± 37.435  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         16  avgt   15   626.235 ± 39.271  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         17  avgt   15   640.925 ± 45.910  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         18  avgt   15   653.792 ± 45.098  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         19  avgt   15   649.266 ± 36.483  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         20  avgt   15   661.931 ± 40.578  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         21  avgt   15   675.848 ± 38.651  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         22  avgt   15   689.341 ± 35.174  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         23  avgt   15   705.485 ± 31.321  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         24  avgt   15   720.715 ± 30.871  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         25  avgt   15   745.423 ± 35.487  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         26  avgt   15   772.899 ± 30.168  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         27  avgt   15   796.469 ± 34.395  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         28  avgt   15   822.673 ± 33.470  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         29  avgt   15   839.802 ± 34.424  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         30  avgt   15   863.312 ± 34.641  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         31  avgt   15   876.696 ± 38.417  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         32  avgt   15   897.369 ± 35.127  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         33  avgt   15   925.832 ± 39.338  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         34  avgt   15   961.630 ± 37.463  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         35  avgt   15   989.904 ± 39.702  us/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench         36  avgt   15  1031.029 ± 44.007  us/op
</span></span></code></pre></div><p>I expected to get some serious shifts between 8 and 9 threads since I have 8 performance cores. And basically get that.</p><p>Next shift I expected between 16 and 17 threads, since I have 8 performance cores with hyper-threading. However, got nothing like that. Performance on each thread slowly dropped with each new thread added to the bench.</p><p>This performance drop on each thread continued after number of threads exceeded the number of CPU threads.</p><p>From what I can see it seems that there is no need to profit to limit concurrency on this CPU to the number of performance threads at least in some cases demonstrated here.</p><h3 id=update-this-seems-too-close-to-the-original-post-and-too-small-for-the-separate-one>Update: this seems too close to the original post and too small for the separate one.
<a class=heading-link href=#update-this-seems-too-close-to-the-original-post-and-too-small-for-the-separate-one><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Since the total amount of work is different previous benchmark results are actually hard to compare. So I&rsquo;ve written another one:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>@State(Scope.<span style=color:#007f7f>Thread</span>)
</span></span><span style=display:flex><span>@BenchmarkMode(Mode.<span style=color:#007f7f>AverageTime</span>)
</span></span><span style=display:flex><span>@Fork(3)
</span></span><span style=display:flex><span>@OutputTimeUnit(TimeUnit.<span style=color:#007f7f>MILLISECONDS</span>)
</span></span><span style=display:flex><span>@Warmup(iterations = 3, time = 1, timeUnit = TimeUnit.<span style=color:#007f7f>SECONDS</span>)
</span></span><span style=display:flex><span>@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.<span style=color:#007f7f>SECONDS</span>)
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>public</span> <span style=color:#fff;font-weight:700>class</span> ThreadsBenchmark {
</span></span><span style=display:flex><span>    @Param({<span style=color:#0ff;font-weight:700>&#34;1&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;2&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;3&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;4&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;5&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;6&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;7&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;8&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;9&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;10&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;11&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;12&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;13&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;14&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;15&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;16&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#0ff;font-weight:700>&#34;17&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;18&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;19&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;20&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;21&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;22&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;23&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;24&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;25&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;26&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;27&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;28&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;29&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;30&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;31&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;32&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#0ff;font-weight:700>&#34;33&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;34&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;35&#34;</span>, <span style=color:#0ff;font-weight:700>&#34;36&#34;</span>,
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>public</span> String threads;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>private</span> <span style=color:#fff;font-weight:700>static</span> <span style=color:#fff;font-weight:700>final</span> <span style=color:#fff;font-weight:700>int</span> RESULTS = 128;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    @Benchmark
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>public</span> List&lt;<span style=color:#fff;font-weight:700>byte</span>[]&gt; bench() <span style=color:#fff;font-weight:700>throws</span> ExecutionException, InterruptedException {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>try</span> (<span style=color:#fff;font-weight:700>var</span> executor = Executors.<span style=color:#007f7f>newFixedThreadPool</span>(Integer.<span style=color:#007f7f>parseInt</span>(threads))) {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>var</span> futures = <span style=color:#fff;font-weight:700>new</span> ArrayList&lt;Future&lt;<span style=color:#fff;font-weight:700>byte</span>[]&gt;&gt;(RESULTS);
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>int</span> i = 0; i &lt; RESULTS; i++) {
</span></span><span style=display:flex><span>                futures.<span style=color:#007f7f>add</span>(executor.<span style=color:#007f7f>submit</span>(() -&gt; {
</span></span><span style=display:flex><span>                    <span style=color:#fff;font-weight:700>var</span> random = RandomGenerator.<span style=color:#007f7f>getDefault</span>();
</span></span><span style=display:flex><span>                    <span style=color:#fff;font-weight:700>var</span> bytes = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>byte</span>[1024];
</span></span><span style=display:flex><span>                    <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>int</span> j = 0; j &lt; 1024; j++) {
</span></span><span style=display:flex><span>                        random.<span style=color:#007f7f>nextBytes</span>(bytes);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#fff;font-weight:700>return</span> bytes;
</span></span><span style=display:flex><span>                }));
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>var</span> result = <span style=color:#fff;font-weight:700>new</span> ArrayList&lt;<span style=color:#fff;font-weight:700>byte</span>[]&gt;(RESULTS);
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>int</span> i = 0; i &lt; RESULTS; i++) {
</span></span><span style=display:flex><span>                result.<span style=color:#007f7f>add</span>(futures.<span style=color:#007f7f>get</span>(i).<span style=color:#007f7f>get</span>());
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>return</span> result;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This produces the following result:</p><div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Benchmark                (threads)  Mode  Cnt   Score   Error  Units
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           1  avgt   15  57.861 ± 1.329  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           2  avgt   15  31.279 ± 0.527  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           3  avgt   15  26.376 ± 0.926  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           4  avgt   15  20.307 ± 0.404  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           5  avgt   15  16.930 ± 0.237  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           6  avgt   15  15.026 ± 0.358  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           7  avgt   15  12.878 ± 0.171  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           8  avgt   15  11.145 ± 0.204  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench           9  avgt   15  10.054 ± 0.181  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          10  avgt   15   8.818 ± 0.073  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          11  avgt   15   7.942 ± 0.090  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          12  avgt   15   7.389 ± 0.173  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          13  avgt   15   7.010 ± 0.186  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          14  avgt   15   6.285 ± 0.173  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          15  avgt   15   5.920 ± 0.071  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          16  avgt   15   5.459 ± 0.049  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          17  avgt   15   5.347 ± 0.049  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          18  avgt   15   5.262 ± 0.043  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          19  avgt   15   5.225 ± 0.208  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          20  avgt   15   4.773 ± 0.043  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          21  avgt   15   4.744 ± 0.022  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          22  avgt   15   4.635 ± 0.080  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          23  avgt   15   4.643 ± 0.029  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          24  avgt   15   4.610 ± 0.026  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          25  avgt   15   4.641 ± 0.063  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          26  avgt   15   4.597 ± 0.008  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          27  avgt   15   4.595 ± 0.019  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          28  avgt   15   4.622 ± 0.038  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          29  avgt   15   4.524 ± 0.009  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          30  avgt   15   4.518 ± 0.048  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          31  avgt   15   4.472 ± 0.061  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          32  avgt   15   4.455 ± 0.009  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          33  avgt   15   4.432 ± 0.096  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          34  avgt   15   4.495 ± 0.009  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          35  avgt   15   4.516 ± 0.018  ms/op
</span></span><span style=display:flex><span>ThreadsBenchmark.bench          36  avgt   15   4.528 ± 0.023  ms/op
</span></span></code></pre></div><p>A can draw several conclusions from these results. Really using more than 2x performance cores produce little value. However, nevertheless there is some value in using more cores including efficient ones. Also, there is no penalty at all. So usual technique of using a thread pool of size equal or greater to quantity of logical cores on the CPU should work just fine.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2011 -
2024
Ivan Sopov
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>