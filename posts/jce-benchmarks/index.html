<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Ivan Sopov"><meta name=description content="The Java Cryptography Extensions exist for many years, They allow to use cryptography that is not bundled in the Java platform itself. I&rsquo;ve met Bouncycastle crypto provider library many times in projects I worked on. But there are other third party crypto providers as well. At least two of them - Consrypt and Corretto (named the same way as Openjdk distribution by Amazon) declare high performance as their features. I decided to measure these claims and wrote some benchmarks."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java Cryptography Extension Providers Performance"><meta name=twitter:description content="The Java Cryptography Extensions exist for many years, They allow to use cryptography that is not bundled in the Java platform itself. I&rsquo;ve met Bouncycastle crypto provider library many times in projects I worked on. But there are other third party crypto providers as well. At least two of them - Consrypt and Corretto (named the same way as Openjdk distribution by Amazon) declare high performance as their features. I decided to measure these claims and wrote some benchmarks."><meta property="og:title" content="Java Cryptography Extension Providers Performance"><meta property="og:description" content="The Java Cryptography Extensions exist for many years, They allow to use cryptography that is not bundled in the Java platform itself. I&rsquo;ve met Bouncycastle crypto provider library many times in projects I worked on. But there are other third party crypto providers as well. At least two of them - Consrypt and Corretto (named the same way as Openjdk distribution by Amazon) declare high performance as their features. I decided to measure these claims and wrote some benchmarks."><meta property="og:type" content="article"><meta property="og:url" content="https://isopov.github.io/posts/jce-benchmarks/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-28T20:44:46+03:00"><meta property="article:modified_time" content="2022-05-28T20:44:46+03:00"><title>Java Cryptography Extension Providers Performance · isopov</title><link rel=canonical href=https://isopov.github.io/posts/jce-benchmarks/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css integrity="sha256-2f3b/+byfmmYXcX+BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><meta name=generator content="Hugo 0.119.0"></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>isopov</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://isopov.github.io/posts/jce-benchmarks/>Java Cryptography Extension Providers Performance</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-05-28T20:44:46+03:00>May 28, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/java/>Java</a></span></div></div></header><div><p>The <a href=https://en.wikipedia.org/wiki/Java_Cryptography_Extension>Java Cryptography Extensions</a> exist for many years, They allow to use cryptography that is not bundled in the Java platform itself. I&rsquo;ve met <a href=https://www.bouncycastle.org/>Bouncycastle</a> crypto provider library many times in projects I worked on. But there are other third party crypto providers as well. At least two of them - <a href=https://github.com/google/conscrypt>Consrypt</a> and <a href=https://github.com/corretto/amazon-corretto-crypto-provider>Corretto</a> (named the same way as <a href=https://aws.amazon.com/corretto>Openjdk distribution by Amazon</a>) declare high performance as their features. I decided to measure these claims and wrote some <a href=https://github.com/isopov/jce-benchmarks>benchmarks</a>. To not compare apples with oranges I needed some algorithms that were implemented in all different crypto providers that I tried to test. So the choice may seem a bit strange.</p><p>First goes benchmark for Cipher doing AESGCMNoPadding (and that is the only cipher supported in all 4 provider that I have found) decrypting and encrypting (measured in operations per second - higher is better). All four providers can do it with bundled Java 17 provider being the most performant.</p><div style="width:90%;height:300px;margin:0 auto"><canvas id=31></canvas></div><script src=https://cdn.jsdelivr.net/npm/chart.js/dist/chart.min.js></script>
<script type=text/javascript>var ctx=document.getElementById("31").getContext("2d"),options={type:"bar",data:{labels:["Decrypt","Encrypt"],datasets:[{label:"Default",data:[2741608,1810941],backgroundColor:"yellow"},{label:"Corretto",data:[1522272,1560521],backgroundColor:"red"},{label:"Bouncycastle",data:[1355433,423344],backgroundColor:"green"},{label:"Conscrypt",data:[1330481,1103269],backgroundColor:"blue"}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}};new Chart(ctx,options)</script><p>Here almost up-to-date JVM (Java 18 is already released) shines. But lets see the performance of <a href=https://en.wikipedia.org/wiki/HMAC>hash-based message authenication codes</a>.</p><div style="width:90%;height:300px;margin:0 auto"><canvas id=263></canvas></div><script src=https://cdn.jsdelivr.net/npm/chart.js/dist/chart.min.js></script>
<script type=text/javascript>var ctx=document.getElementById("263").getContext("2d"),options={type:"bar",data:{labels:["md5","sha1","sha256","sha512"],datasets:[{label:"Default",data:[1217450,793005,807643,642063],backgroundColor:"yellow"},{label:"Corretto",data:[1221880,1287582,815088,575937],backgroundColor:"red"},{label:"Bouncycastle",data:[1123098,814171,588554,386837],backgroundColor:"green"},{label:"Conscrypt",data:[318263,321959,258560,179285],backgroundColor:"blue"}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}};new Chart(ctx,options)</script><p>Here Corretto outperforms all other options for sha1 hashing, but in other cases is is almost the same as default Openjdk crypto provider. Consrypt is real outsider here.</p><p>Now lets look at signing our messages with crypto signatures.</p><div style="width:90%;height:300px;margin:0 auto"><canvas id=702></canvas></div><script src=https://cdn.jsdelivr.net/npm/chart.js/dist/chart.min.js></script>
<script type=text/javascript>var ctx=document.getElementById("702").getContext("2d"),options={type:"bar",data:{labels:["SHA1withECDSA","SHA256withECDSA","SHA512withECDSA","SHA1withRSA","SHA256withRSA","SHA512withRSA"],datasets:[{label:"Default",data:[1117,1110,1124,575,568,568],backgroundColor:"yellow"},{label:"Corretto",data:[798,793,789,1221,1229,1233],backgroundColor:"red"},{label:"Bouncycastle",data:[329,336,325,517,518,511],backgroundColor:"green"},{label:"Conscrypt",data:[34319,34654,34299,1231,1231,1215],backgroundColor:"blue"}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}};new Chart(ctx,options)</script><p>Conscrypt really shines here with <a href=https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm>ECDSA</a> implementations from <a href=https://boringssl.googlesource.com/boringssl/>BoringSSL</a>. With <a href=https://en.wikipedia.org/wiki/RSA_(cryptosystem)>RSA</a> its performance is also among leaders. However it is interesting that bundled provider outperforms Corretto with ECDSA, but loses with RSA.</p><p>Now lets look at verifying those signatures.</p><div style="width:90%;height:300px;margin:0 auto"><canvas id=550></canvas></div><script src=https://cdn.jsdelivr.net/npm/chart.js/dist/chart.min.js></script>
<script type=text/javascript>var ctx=document.getElementById("550").getContext("2d"),options={type:"bar",data:{labels:["SHA1withECDSA","SHA256withECDSA","SHA512withECDSA"],datasets:[{label:"Default",data:[581,587,578],backgroundColor:"yellow"},{label:"Corretto",data:[940,939,944],backgroundColor:"red"},{label:"Bouncycastle",data:[724,724,768],backgroundColor:"green"},{label:"Conscrypt",data:[12893,12807,12759],backgroundColor:"blue"}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}};new Chart(ctx,options)</script><p>Once again for ECDSA verifying Conscrypt outperforms everyone else. For RSA numbers are so different for all options, lets place them on separate chart.</p><div style="width:90%;height:300px;margin:0 auto"><canvas id=103></canvas></div><script src=https://cdn.jsdelivr.net/npm/chart.js/dist/chart.min.js></script>
<script type=text/javascript>var ctx=document.getElementById("103").getContext("2d"),options={type:"bar",data:{labels:["SHA1withRSA","SHA256withRSA","SHA512withRSA"],datasets:[{label:"Default",data:[16684,16616,16688],backgroundColor:"yellow"},{label:"Corretto",data:[38029,37155,37855],backgroundColor:"red"},{label:"Bouncycastle",data:[16928,16712,17170],backgroundColor:"green"},{label:"Conscrypt",data:[40487,40505,39226],backgroundColor:"blue"}]},options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}};new Chart(ctx,options)</script><p>Here both Corretto and Consrypt do something to prove their self-names of high-performance implementations.</p><p>What should you use in the end? I don&rsquo;t think that performance is actually what you should look at in the first place. You should start with security and features that you need for your application. That is why Bouncycastle provider whose performance is not that great can be met so often.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2011 -
2023
Ivan Sopov
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.9cf2dbf9b6989ef8eae941ffb4231c26d1dc026bca38f1d19fdba50177d8a9ac.js integrity="sha256-nPLb+baYnvjq6UH/tCMcJtHcAmvKOPHRn9ulAXfYqaw="></script></body></html>