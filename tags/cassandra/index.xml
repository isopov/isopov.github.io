<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Cassandra on isopov</title><link>https://isopov.github.io/tags/cassandra/</link><description>Recent content in Cassandra on isopov</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Thu, 05 Oct 2023 15:10:49 +0300</lastBuildDate><atom:link href="https://isopov.github.io/tags/cassandra/index.xml" rel="self" type="application/rss+xml"/><item><title>Cassandra lightweight transactions mixed with ordinary queries</title><link>https://isopov.github.io/posts/cassandra-lwt-queries-mix/</link><pubDate>Thu, 05 Oct 2023 15:10:49 +0300</pubDate><guid>https://isopov.github.io/posts/cassandra-lwt-queries-mix/</guid><description>Recently I&amp;rsquo;ve discovered that adding a simple &amp;ldquo;if exists&amp;rdquo; clause to query in Cassandra turns it into something completely different. Lightweight transaction is started that is not really compatible with running some data modification queries without such clause. I debugged this problem to the simple independent reproducer, so I&amp;rsquo;d like to share it.
@Testcontainers class UpdateTest { @Container private static final CassandraContainer cassandra = (CassandraContainer) new CassandraContainer(&amp;#34;cassandra:4.1.3&amp;#34;).withExposedPorts(9042); private static CqlSession session; @BeforeAll static void setup() { session = CqlSession.</description></item></channel></rss>